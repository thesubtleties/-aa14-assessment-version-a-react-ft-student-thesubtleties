# Pet App

The following instructions will guide through the various phases of the React
assessment.

## Tests for your assessment

This assessment contains tests to help you complete the various phases. When run,
they will report to you when expectations of _functionality_ are met. It is
still up to you to make sure that your code does not produce errors in the
console and is properly formatted.

The tests are grouped by phase. Use these test groupings to know when each phase
is complete from a functionality perspective.

The tests are located in __src/\_\_tests\_\___. **Do not modify the files in
that directory.**

## Recommendations and requirements

Review your app's output in the terminal or browser console frequently to make
sure that you do not have any warnings about things like unused variables.

After each phase, the application should render in the browser without errors.

Do not move any files in the __src/components__ folder. The tests expect the
existence of those files.

When the instructions say to do something like "Use the `XXX` component in the
`render` method", recognize that you may need to import something (like the
`XXX` component) before that will work. In most cases, you will **NOT** be
instructed to import anything. Use your knowledge of JavaScript modules to
figure that out on your own.

Similarly, the instructions will typically not tell you how to structure your
components, only what they must contain. In some instances, e.g., you may find
it helpful to wrap multiple elements inside a `div` with an appropriate class
name. Such enhancements, however, will not be assessed.

## Phase 0: Getting the app running

The starter contains an application generated by Vite using the
`appacademy/aa-react18-vite-template` template and providing `react-router-dom`.
It contains some styling for you in the __index.css__ file for CSS classes that
you will apply during the steps so that things are not default browser layout.

It also contains the tests for the components that you will create.

The React application is already wrapped in the `PhotoProvider` (from
__context/PhotoContext.jsx__) in __src/main.jsx__.

After cloning, run `npm install` to install the dependencies.

You can run your tests with `npm test`. Follow the on-screen instructions to
quit the test runner. If you want to run your tests only once, use the following
command:

```plaintext
npm test -- --run
```

To run the tests for your current step, run `npm test <file>`, where `<file>` is
the test file you're working on.

Here's the list of test files to run individually:

* `npm test 1-Routes`
* `npm test 2-Navigation`
* `npm test 3-CatsIndex`
* `npm test 4-CatShow`
* `npm test 5-CatForm`
* `npm test 6-PhotoShow`
* `npm test 7-TogglePhotoType`

**Note:** With one exception, you can complete the phases in any order, so if
you get stuck on one particular phase, feel free to move on to another phase.
You can then return to the troubling phase later with fresh eyes. **The one
exception:** The last test of every phase (and the last two of `CatForm`) is an
integration test that ensures the current component is configured correctly
with the routes in __App.jsx__. This is why `1-Routes`--which sets up
__App.jsx__--is the recommended starting point.

Type `q` or `<Ctrl>+c` to stop the test runner.

You can also run all the tests at once by simply running `npm test`.

To run the application in a browser, use the command `npm run dev`. Type `o` in
the terminal where the application is running to open it in a browser.
Alternatively, you can open a browser window yourself and navigate to
[http://localhost:5173/] (by clicking on that link, for example).

**Warning:** Make sure that the app opens in a Google Chrome browser. If you
don't have Chrome as your default browser, it will open Microsoft Internet
Explorer. For the purposes of this class, Chrome is recommended.

## Phase 1: Routes

In this phase, you will create the following routes in the `App` component:

| Route path           | Component/Text          |
| -------------------- | ----------------------- |
| `/`                  | `CatsIndex`             |
| `/cats/:catId`       | `CatShow`               |
| `/cats/new`          | `CatForm`               |
| `/photo`             | `PhotoShow`             |
| `/toggle-photo-type` | `TogglePhotoType`       |
| all other paths      | "Page Not Found" (text) |

Additionally, you should make sure that the `Navigation` component renders on
every page.

**NOTE:** The tests for this Phase mock the other testable components that you
have to write so that you can pass these tests independently of your other
implementations. As a consequence of this independence, **none of the tested
routes can depend on `Outlet`s that appear in those mocked components.** An
`Outlet` that you put in your `Navigation` component, e.g., might render a page
successfully in the browser, but it will fail these tests because the
`Navigation` mock component that the tests use does not have an `Outlet`.

**Tl;DR: Any `Outlet`s needed by your routes should appear in **App.jsx**.**

The `CatsIndex` and `CatShow` components should take the array of `cats`
imported from __src/mockData/cats.json__ as a prop named `cats`.

To test this phase, run `npm test 1-Routes`.

## Phase 2: Navigation

The `Navigation` component should already be rendered inside the `App` component
from Phase 1. Now it's time to give it some content, namely, some navigation
links.

To test this phase, run `npm test 2-Navigation`.

Inside of the `Navigation` component, render the following four navigation
links:

| Name           | Path                 |
| -------------- | -------------------- |
| Home           | `/`                  |
| Create a Cat   | `/cats/new`          |
| Photo          | `/photo`             |
| Set Photo Type | `/toggle-photo-type` |

Use the value in the "Name" column above as the visual content of your
navigation link.

(**Tip:** Consider nesting these links inside a `nav` element.)

**You must use the `NavLink` component from `react-router-dom`.**

## Phase 3: CatsIndex

The `CatsIndex` component should already be rendered inside the `App` component
from Phase 1. (Remember that it takes a `cats` prop.) Now it's time to give it
some content, namely, links to cat pages for all the cats in a given list of
cats.

To test this phase, run `npm test 3-CatsIndex`.

Inside of the `CatsIndex` component, render an `h2` element with exactly the
text, "Cats Index". Then render links to the cat show pages for all the cats
passed in as props. Each link should be formatted as `/cats/:catId` with
`:catId` replaced with a cat's `id`. The visual content of each link should be
that cat's `name`.

**You must use the `Link` component from `react-router-dom`.**

## Phase 4: CatShow

The `CatShow` component should already be rendered inside the `App` component
from Phase 1. (Remember that it takes a `cats` prop.) Now it's time to give it
some content, namely, the details of the cat whose `id` corresponds to the
`:catId` in the `/cats/:catId` route.

To test this phase, run `npm test 4-CatShow`.

In the list of cats in the mock data file, __src/mockData/cats.json__, each cat
has an `id`. Inside the `CatShow` component, display the cat information for
the cat in `cats` with the `id` that matches the `:catId` in the URL path.

Render an `h2` element with the cat's name as the text. Outside of the `h2`
element, render the color and age of the cat in any sort of HTML text elements
you want to use. Note that the age should be rendered using this format: `Age:
2`.

Your `CatShow` should update as the URL changes.

## Phase 5: CatForm

The `CatForm` component should already be rendered inside the `App` component
from Phase 1. It is also partially completed for you. In this phase, you will
add controlled inputs, validations, and submission to the existing `CatForm`
component.

To test this phase, run `npm test 5-CatForm`.

Take a look at the existing `<form>` in the  `CatForm` component. First, **make
the name, age, and color inputs into controlled inputs.** The name field should
be initialized to an empty string. The age field should be initialized to 0; the
color field, to `orange` (i.e., the **second** color in the `COLORS` constant
variable defined at the top of the component file).

Using `useEffect` and `useState`, create the following form validations. Render
the error messages in the `p.errors` elements below the respective inputs. **(In
other words, name errors should appear below the `Name` input/label, and so
on.)**

| Field | Condition                          | Error Message                           |
| ----- | ---------------------------------- | --------------------------------------- |
| Name  | Empty                              | "Name field is required"                |
| Name  | More than 30 characters            | "Name must be fewer than 30 characters" |
| Age   | Less than 0 **or** Greater than 30 | "Age must be between 0 and 30"          |

**The errors must be handled dynamically and be checked on initial render and
after every change in user input, not during form submission.**

Disable the submit button of the `<form>` with a `disabled` attribute (with a
value of `true`) if the form validations don't pass (i.e., if any error messages
are present).

**When the form is submitted,** print the form values to the console in an
object with the keys `name`, `age`, and `color`. Then navigate to the home
page ("/").

Example of form values properly formatted in an object:

```js
{
  name: "Fluffy",
  age: "2",
  color: "white"
}
```

## Phase 6: PhotoShow

The `PhotoShow` component should already be rendered inside the `App` component
from Phase 1. Now it's time to give it some content, namely, an image whose url
is extracted from a context.

To test this phase, run `npm test 6-PhotoShow`.

Take a look at the context and provider created in
__src/context/PhotoContext.jsx__. The value of the `PhotoContext` has a
`photoUrl` that should be used by the `PhotoShow` component to render the image.

**Hint:** You may want to create a custom hook to return the values of the
`PhotoContext`.

Render an `h2` element with the text, "Photo Show". Then render the image taken
from the `photoUrl` of `PhotoContext`.

## Phase 7: TogglePhotoType

In the previous phase, you used the `PhotoContext`'s `photoUrl` value. In this
phase, you will set the `photoType` value of the context in the
`TogglePhotoType` component. (The `TogglePhotoType` component should already be
rendered inside the `App` component from Phase 1.)

To test this phase, run `npm test 7-TogglePhotoType`.

Much of this component is provided for you. **Do not change the heading text
("Cat or Dog?") or text labels for the inputs ("Cat" / "Dog") as the tests
expect these to be present as they are.**

Two inputs have been rendered in the `TogglePhotoType` component for you. Make
these **controlled inputs** that change the value of the `photoType` in the
`PhotoContext` using the `setPhotoType` function in the `PhotoContext`. The cat
radio button should be checked if the `photoType` is "cat". The dog radio button
should be checked if the `photoType` is "dog".

If done correctly, you should see the photo in the `PhotoShow` component change
when you toggle between the "Cat" and "Dog" radio inputs. (Note that you will
have to click the `Photo` button to see the updated image after setting the
photo type.)

## Wrapping up

Make sure that you pass all the tests by running `npm test`. Each test is
weighted individually. To see your score, run `npm run test-with-points`.

[http://localhost:5173/]: http://localhost:5173/
